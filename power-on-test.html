<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Power Status Checker</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Tone.js for sound effects -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <style>
        /* Custom styles to apply the Inter font */
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevent scrollbars from the canvas */
        }
        /* Canvas for background animation */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        /* Animation for the result cards */
        .result-card {
            animation: pop-in 0.5s ease-out forwards;
            opacity: 0;
            transform: scale(0.9);
        }
        @keyframes pop-in {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        /* Stagger the animation for each card */
        .result-card:nth-child(1) { animation-delay: 0.2s; }
        .result-card:nth-child(2) { animation-delay: 0.3s; }
        .result-card:nth-child(3) { animation-delay: 0.4s; }
        .result-card:nth-child(4) { animation-delay: 0.5s; }
        .result-card:nth-child(5) { animation-delay: 0.6s; }
        .result-card:nth-child(6) { animation-delay: 0.7s; }

        /* More dramatic animation for the final title */
        .reveal-title {
            animation: reveal-in 1s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            opacity: 0;
        }
        @keyframes reveal-in {
            0% { transform: scale(1.5); opacity: 0; filter: blur(10px); }
            100% { transform: scale(1); opacity: 1; filter: blur(0px); }
        }
        
        /* Log container styling */
        #log-container {
            font-family: 'Courier New', Courier, monospace;
            height: 120px;
            background-color: rgba(0,0,0,0.3);
            border: 1px solid #4a5568;
            border-radius: 8px;
            padding: 8px;
            overflow-y: auto;
            text-align: left;
            font-size: 0.8rem;
            line-height: 1.5;
        }
        .log-line {
            white-space: pre-wrap;
        }
        .log-error { color: #f56565; }
        .log-warn { color: #f6e05e; }
        .log-success { color: #68d391; }
        .log-info { color: #a0aec0; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center p-4 transition-colors duration-500">
    
    <canvas id="bg-canvas"></canvas>

    <div id="main-container" class="w-full max-w-md mx-auto z-10">

        <!-- Initial Input Screen -->
        <div id="initial-screen" class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl shadow-2xl p-6 space-y-6">
            <div class="text-center">
                <h1 class="text-2xl font-bold text-cyan-300">Power Status Checker</h1>
                <p class="text-gray-400 mt-1">Is it on? Let's find out... probably.</p>
            </div>

            <!-- Input Fields -->
            <div class="space-y-4">
                <div>
                    <label for="device-name" class="block text-sm font-medium text-gray-300 mb-1">Device Name</label>
                    <input type="text" id="device-name" class="bg-gray-900 border border-gray-600 text-white rounded-md p-3 w-full focus:ring-2 focus:ring-cyan-400 focus:outline-none transition" placeholder="e.g., My Supercomputer">
                </div>
                <div>
                    <label for="device-type" class="block text-sm font-medium text-gray-300 mb-1">Device Type / OS</label>
                    <input type="text" id="device-type" class="bg-gray-900 border border-gray-600 text-white rounded-md p-3 w-full focus:ring-2 focus:ring-cyan-400 focus:outline-none transition" placeholder="e.g., Potato, ToasterOS">
                </div>
            </div>

            <!-- Funny Warning Message -->
            <div class="bg-yellow-900/50 border border-yellow-500 text-yellow-300 p-3 rounded-lg text-sm flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.21 3.03-1.742 3.03H4.42c-1.532 0-2.492-1.696-1.742-3.03l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                </svg>
                <span>
                    <strong>Warning:</strong> Checking power status may involve reversing the polarity of the neutron flow. Proceed with extreme caution and a cup of tea.
                </span>
            </div>

            <!-- Check Button -->
            <button id="check-btn" class="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg w-full transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-cyan-500/50 shadow-lg">
                Initiate Power Scan
            </button>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="hidden bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl shadow-2xl p-8 text-center space-y-6">
            <h2 class="text-xl font-semibold text-cyan-300 animate-pulse">Analyzing Quantum Flux...</h2>
            <div class="w-full bg-gray-700 rounded-full h-4 overflow-hidden">
                <div id="progress-bar" class="bg-gradient-to-r from-teal-400 to-cyan-500 h-4 rounded-full transition-all duration-1000 ease-in-out" style="width: 0%"></div>
            </div>
            <div id="log-container"></div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="hidden w-full max-w-2xl text-center">
             <div class="mb-8">
                <h2 class="reveal-title text-6xl md:text-8xl font-black text-green-400 tracking-tighter">POWERED ON</h2>
                <p class="text-gray-300 text-lg">Analysis complete for <strong id="result-device-name" class="text-cyan-300"></strong></p>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                <!-- Stats will be populated here -->
                <div class="result-card bg-gray-800/60 backdrop-blur-sm border border-gray-700 p-4 rounded-xl shadow-lg">
                    <p class="text-sm text-gray-400">Battery Charge</p>
                    <p id="battery-stat" class="text-4xl font-bold text-green-400">0%</p>
                </div>
                <div class="result-card bg-gray-800/60 backdrop-blur-sm border border-gray-700 p-4 rounded-xl shadow-lg">
                    <p class="text-sm text-gray-400">Core Temp</p>
                    <p id="temp-stat" class="text-4xl font-bold text-yellow-400">0°C</p>
                </div>
                 <div class="result-card bg-gray-800/60 backdrop-blur-sm border border-gray-700 p-4 rounded-xl shadow-lg">
                    <p class="text-sm text-gray-400">System Uptime</p>
                    <p id="uptime-stat" class="text-2xl font-bold text-white">0h 0m</p>
                </div>
                <div class="result-card bg-gray-800/60 backdrop-blur-sm border border-gray-700 p-4 rounded-xl shadow-lg col-span-2 md:col-span-1">
                    <p class="text-sm text-gray-400">Processor</p>
                    <p id="cpu-stat" class="text-2xl font-bold text-cyan-300">-</p>
                </div>
                <div class="result-card bg-green-900/50 border border-green-500 p-4 rounded-xl shadow-lg col-span-2 md:col-span-2">
                    <p class="text-sm text-green-300">Conclusion</p>
                    <p class="text-2xl font-bold text-green-300">It's Definitely On.</p>
                </div>
            </div>
             <button id="reset-btn" class="mt-8 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300">Check Another</button>
        </div>

    </div>

    <script>
        // --- Sound Effects Setup ---
        let soundsReady = false;
        const clickSound = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.01, decay: 0.1, sustain: 0, release: 0.1 } }).toDestination();
        const successSound = new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 0.01, decay: 0.4, sustain: 0.1, release: 0.2 } }).toDestination();
        const errorSound = new Tone.Synth({ oscillator: { type: 'sawtooth' }, envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.1 } }).toDestination();
        const warnSound = new Tone.Synth({ oscillator: { type: 'square' }, envelope: { attack: 0.01, decay: 0.1, sustain: 0.1, release: 0.1 } }).toDestination();

        document.body.addEventListener('click', () => {
             if (!soundsReady) { Tone.start(); soundsReady = true; }
        }, { once: true });

        // --- DOM Elements ---
        const initialScreen = document.getElementById('initial-screen');
        const loadingScreen = document.getElementById('loading-screen');
        const resultsScreen = document.getElementById('results-screen');
        const checkBtn = document.getElementById('check-btn');
        const resetBtn = document.getElementById('reset-btn');
        const progressBar = document.getElementById('progress-bar');
        const logContainer = document.getElementById('log-container');

        // --- Loading Simulation Data ---
        const scanLogs = [
            { message: 'Initiating scan...', type: 'info', progress: 5, delay: 500 },
            { message: 'Connecting to device mainframe...', type: 'info', progress: 15, delay: 1000 },
            { message: 'Connection established. Querying power state...', type: 'info', progress: 30, delay: 1000 },
            { message: 'ERROR: Initial handshake failed. Retrying...', type: 'error', progress: 30, delay: 1500 },
            { message: 'WARN: Alternate protocol is unstable. Forcing connection...', type: 'warn', progress: 60, delay: 1500 },
            { message: 'Connection re-established. Verifying quantum signature...', type: 'info', progress: 80, delay: 1000 },
            { message: 'SUCCESS: Signature verified. Device is online.', type: 'success', progress: 95, delay: 1000 },
            { message: 'Finalizing report...', type: 'info', progress: 100, delay: 500 }
        ];

        // --- Main Button Click ---
        checkBtn.addEventListener('click', () => {
            clickSound.triggerAttackRelease('C4', '8n');
            initialScreen.classList.add('hidden');
            loadingScreen.classList.remove('hidden');
            logContainer.innerHTML = ''; // Clear previous logs
            processScanLogs(0);
        });
        
        // --- Process Scan Logs with Delays ---
        function processScanLogs(index) {
            if (index >= scanLogs.length) {
                setTimeout(showResults, 500);
                return;
            }

            const log = scanLogs[index];
            setTimeout(() => {
                // Update progress bar
                progressBar.style.width = log.progress + '%';
                
                // Add log message
                const logElement = document.createElement('div');
                logElement.textContent = `[${log.type.toUpperCase()}] ${log.message}`;
                logElement.className = `log-line log-${log.type}`;
                logContainer.appendChild(logElement);
                logContainer.scrollTop = logContainer.scrollHeight; // Auto-scroll

                // Play sound based on type
                if (log.type === 'error') errorSound.triggerAttackRelease('C3', '8n');
                if (log.type === 'warn') warnSound.triggerAttackRelease('E4', '8n');

                // Process next log
                processScanLogs(index + 1);
            }, log.delay);
        }

        // --- Reset Button Click ---
        resetBtn.addEventListener('click', () => {
            clickSound.triggerAttackRelease('C4', '8n');
            resultsScreen.classList.add('hidden');
            initialScreen.classList.remove('hidden');
            progressBar.style.width = '0%';
        });

        // --- Animated Count-Up Function ---
        function animateCountUp(element, endValue, isTime = false, isTemp = false) {
            const duration = 1500;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsedTime = currentTime - startTime;
                const progress = Math.min(elapsedTime / duration, 1);
                let currentVal;
                
                if (isTemp) {
                    currentVal = progress * endValue;
                    element.textContent = `${currentVal.toFixed(1)}°C`;
                } else {
                    currentVal = Math.floor(progress * endValue);
                    if (isTime) {
                        const hours = Math.floor(currentVal / 60);
                        const minutes = currentVal % 60;
                        element.textContent = `${hours}h ${minutes}m`;
                    } else {
                        element.textContent = `${currentVal}%`;
                    }
                }

                if (progress < 1) {
                    requestAnimationFrame(update);
                } else {
                    if (isTime) {
                        const hours = Math.floor(endValue / 60);
                        const minutes = endValue % 60;
                        element.textContent = `${hours}h ${minutes}m`;
                    } else if (isTemp) {
                        element.textContent = `${endValue.toFixed(1)}°C`;
                    } else {
                        element.textContent = `${endValue}%`;
                    }
                }
            }
            requestAnimationFrame(update);
        }

        // --- Show Results Function ---
        function showResults() {
            successSound.triggerAttackRelease('G5', '4n');
            loadingScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');

            const deviceName = document.getElementById('device-name').value || 'Unknown Device';
            const deviceType = document.getElementById('device-type').value || 'Mysterious Gadget';

            document.getElementById('result-device-name').textContent = deviceName;
            document.getElementById('cpu-stat').textContent = `Quantum ${deviceType.split(' ')[0]}-Core`;
            
            animateCountUp(document.getElementById('battery-stat'), Math.floor(Math.random() * 21) + 80);
            animateCountUp(document.getElementById('temp-stat'), parseFloat((Math.random() * 10 + 30).toFixed(1)), false, true);
            animateCountUp(document.getElementById('uptime-stat'), Math.floor(Math.random() * 1440), true);
        }
        
        // --- Animated Background ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        function createParticles() {
            particles = [];
            let particleCount = (canvas.width * canvas.height) / 10000;
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5,
                    size: Math.random() * 2 + 1
                });
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'rgba(0, 255, 255, 0.1)';

            particles.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;

                if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                if (p.y < 0 || p.y > canvas.height) p.vy *= -1;

                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });

            requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', () => {
            resizeCanvas();
            createParticles();
        });

        resizeCanvas();
        createParticles();
        animateParticles();
    </script>
</body>
</html>
